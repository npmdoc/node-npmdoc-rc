<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/dominictarr/rc#readme">rc (v1.2.1)</a>
</h1>
<h4>hardwired configuration loader</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.rc">module rc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rc.rc">
            function <span class="apidocSignatureSpan"></span>rc
            <span class="apidocSignatureSpan">(name, defaults, argv, parse)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">rc.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.rc.utils">module rc.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rc.utils.env">
            function <span class="apidocSignatureSpan">rc.utils.</span>env
            <span class="apidocSignatureSpan">(prefix, env)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rc.utils.file">
            function <span class="apidocSignatureSpan">rc.utils.</span>file
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rc.utils.find">
            function <span class="apidocSignatureSpan">rc.utils.</span>find
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rc.utils.json">
            function <span class="apidocSignatureSpan">rc.utils.</span>json
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.rc.utils.parse">
            function <span class="apidocSignatureSpan">rc.utils.</span>parse
            <span class="apidocSignatureSpan">(content)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rc" id="apidoc.module.rc">module rc</a></h1>


    <h2>
        <a href="#apidoc.element.rc.rc" id="apidoc.element.rc.rc">
        function <span class="apidocSignatureSpan"></span>rc
        <span class="apidocSignatureSpan">(name, defaults, argv, parse)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rc = function (name, defaults, argv, parse) {
  if('string' !== typeof name)
    throw new Error('rc(name): name *must* be string')
  if(!argv)
    argv = require('minimist')(process.argv.slice(2))
  defaults = (
      'string' === typeof defaults
    ? cc.json(defaults) : defaults
    ) || {}

  parse = parse || cc.parse

  var env = cc.env(name + '_')

  var configs = [defaults]
  var configFiles = []
  function addConfigFile (file) {
    if (configFiles.indexOf(file) &gt;= 0) return
    var fileConfig = cc.file(file)
    if (fileConfig) {
      configs.push(parse(fileConfig))
      configFiles.push(file)
    }
  }

  // which files do we look at?
  if (!win)
   [join(etc, name, 'config'),
    join(etc, name + 'rc')].forEach(addConfigFile)
  if (home)
   [join(home, '.config', name, 'config'),
    join(home, '.config', name),
    join(home, '.' + name, 'config'),
    join(home, '.' + name + 'rc')].forEach(addConfigFile)
  addConfigFile(cc.find('.'+name+'rc'))
  if (env.config) addConfigFile(env.config)
  if (argv.config) addConfigFile(argv.config)

  return deepExtend.apply(null, configs.concat([
    env,
    argv,
    configFiles.length ? {configs: configFiles, config: configFiles[configFiles.length - 1]} : undefined,
  ]))
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.rc.utils" id="apidoc.module.rc.utils">module rc.utils</a></h1>


    <h2>
        <a href="#apidoc.element.rc.utils.env" id="apidoc.element.rc.utils.env">
        function <span class="apidocSignatureSpan">rc.utils.</span>env
        <span class="apidocSignatureSpan">(prefix, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">env = function (prefix, env) {
  env = env || process.env
  var obj = {}
  var l = prefix.length
  for(var k in env) {
    if(k.toLowerCase().indexOf(prefix.toLowerCase()) === 0) {

      var keypath = k.substring(l).split('__')

      // Trim empty strings from keypath array
      var _emptyStringIndex
      while ((_emptyStringIndex=keypath.indexOf('')) &gt; -1) {
        keypath.splice(_emptyStringIndex, 1)
      }

      var cursor = obj
      keypath.forEach(function _buildSubObj(_subkey,i){

        // (check for _subkey first so we ignore empty strings)
        // (check for cursor to avoid assignment to primitive objects)
        if (!_subkey || typeof cursor !== 'object')
          return

        // If this is the last key, just stuff the value in there
        // Assigns actual value from env variable to final key
        // (unless it's just an empty string- in that case use the last valid key)
        if (i === keypath.length-1)
          cursor[_subkey] = env[k]


        // Build sub-object if nothing already exists at the keypath
        if (cursor[_subkey] === undefined)
          cursor[_subkey] = {}

        // Increment cursor used to track the object at the current depth
        cursor = cursor[_subkey]

      })

    }

  }

  return obj
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
defaults = (
    'string' === typeof defaults
  ? cc.json(defaults) : defaults
  ) || {}

parse = parse || cc.parse

var env = cc.<span class="apidocCodeKeywordSpan">env</span>(name + '_')

var configs = [defaults]
var configFiles = []
function addConfigFile (file) {
  if (configFiles.indexOf(file) &gt;= 0) return
  var fileConfig = cc.file(file)
  if (fileConfig) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rc.utils.file" id="apidoc.element.rc.utils.file">
        function <span class="apidocSignatureSpan">rc.utils.</span>file
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">file = function () {
  var args = [].slice.call(arguments).filter(function (arg) { return arg != null })

  //path.join breaks if it's a not a string, so just skip this.
  for(var i in args)
    if('string' !== typeof args[i])
      return

  var file = path.join.apply(null, args)
  var content
  try {
    return fs.readFileSync(file,'utf-8')
  } catch (err) {
    return
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var env = cc.env(name + '_')

var configs = [defaults]
var configFiles = []
function addConfigFile (file) {
  if (configFiles.indexOf(file) &gt;= 0) return
  var fileConfig = cc.<span class="apidocCodeKeywordSpan">file</span>(file)
  if (fileConfig) {
    configs.push(parse(fileConfig))
    configFiles.push(file)
  }
}

// which files do we look at?
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rc.utils.find" id="apidoc.element.rc.utils.find">
        function <span class="apidocSignatureSpan">rc.utils.</span>find
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function () {
  var rel = path.join.apply(null, [].slice.call(arguments))

  function find(start, rel) {
    var file = path.join(start, rel)
    try {
      fs.statSync(file)
      return file
    } catch (err) {
      if(path.dirname(start) !== start) // root
        return find(path.dirname(start), rel)
    }
  }
  return find(process.cwd(), rel)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 [join(etc, name, 'config'),
  join(etc, name + 'rc')].forEach(addConfigFile)
if (home)
 [join(home, '.config', name, 'config'),
  join(home, '.config', name),
  join(home, '.' + name, 'config'),
  join(home, '.' + name + 'rc')].forEach(addConfigFile)
addConfigFile(cc.<span class="apidocCodeKeywordSpan">find</span>('.'+name+'rc'))
if (env.config) addConfigFile(env.config)
if (argv.config) addConfigFile(argv.config)

return deepExtend.apply(null, configs.concat([
  env,
  argv,
  configFiles.length ? {configs: configFiles, config: configFiles[configFiles.length - 1]} : undefined,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rc.utils.json" id="apidoc.element.rc.utils.json">
        function <span class="apidocSignatureSpan">rc.utils.</span>json
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">json = function () {
  var content = file.apply(null, arguments)
  return content ? parse(content) : null
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = function (name, defaults, argv, parse) {
if('string' !== typeof name)
  throw new Error('rc(name): name *must* be string')
if(!argv)
  argv = require('minimist')(process.argv.slice(2))
defaults = (
    'string' === typeof defaults
  ? cc.<span class="apidocCodeKeywordSpan">json</span>(defaults) : defaults
  ) || {}

parse = parse || cc.parse

var env = cc.env(name + '_')

var configs = [defaults]
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.rc.utils.parse" id="apidoc.element.rc.utils.parse">
        function <span class="apidocSignatureSpan">rc.utils.</span>parse
        <span class="apidocSignatureSpan">(content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (content) {

  //if it ends in .json or starts with { then it must be json.
  //must be done this way, because ini accepts everything.
  //can't just try and parse it and let it throw if it's not ini.
  //everything is ini. even json with a syntax error.

  if(/^\s*{/.test(content))
    return JSON.parse(stripJsonComments(content))
  return ini.parse(content)

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//if it ends in .json or starts with { then it must be json.
//must be done this way, because ini accepts everything.
//can't just try and parse it and let it throw if it's not ini.
//everything is ini. even json with a syntax error.

if(/^\s*{/.test(content))
  return JSON.<span class="apidocCodeKeywordSpan">parse</span>(stripJsonComments(content))
return ini.parse(content)

}

var file = exports.file = function () {
var args = [].slice.call(arguments).filter(function (arg) { return arg != null })
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>